<div class="row">
  <div class="col-md-12">
    <h2>Items</h2>
    <a href="/Items/add" class="btn btn-success mb-3 float-end">Add Post</a>
    <hr />

    <!-- Filter Dropdown -->
<select name="category" id="category" class="form-select w-auto d-inline-block" onchange="this.form.submit()">
  <option value="">All Categories</option>
  {{#each categories}}
    <option value="{{id}}" {{#ifEquals ../viewingCategory id}}selected{{/ifEquals}}>{{category}}</option>
  {{/each}}
</select>


    {{#if items.length}}
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead class="table-dark">
          <tr>
            <th>Item ID</th>
            <th>Title</th>
            <th>Image</th>
            <th>Price</th>
            <th>Category</th>
            <th>Post Date</th>
            <th>Published</th>
            <th></th> <!-- Remove column -->
          </tr>
        </thead>
        <tbody>
          {{#each items}}
          <tr>
            <td>{{id}}</td>
            <td>{{title}}</td>
            <td><img src="{{featureImage}}" alt="{{title}}" width="100"></td>
            <td>${{price}}</td>
            <td><a href="/items?category={{category}}">{{Category.category}}</a></td>
            <td>{{#formatDate postDate}}{{/formatDate}}</td>
            <td>{{#if published}}Yes{{else}}No{{/if}}</td>
            <td>
              <a href="/Items/delete/{{id}}" class="btn btn-danger btn-sm">Remove</a>
            </td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    {{else}}
    <div class="text-center mt-4">
      <strong>{{message}}</strong>
    </div>
    {{/if}}
  </div>
</div>

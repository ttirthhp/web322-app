<div class="row">
  <div class="col-md-12">
    <h2>Items</h2>
    <hr />

    <!-- Filter Dropdown -->
    <form method="GET" action="/items" class="mb-3">
      <label for="category" class="form-label">Filter by Category:</label>
      <select name="category" id="category" class="form-select w-auto d-inline-block" onchange="this.form.submit()">
        <option value="">All Categories</option>
        <option value="1">Home, Garden</option>
        <option value="2">Electronics</option>
        <option value="3">Clothing</option>
        <option value="4">Sports</option>
        <option value="5">Pets</option>
      </select>
    </form>

    {{#if items.length}}
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead class="table-dark">
          <tr>
            <th>Item ID</th>
            <th>Title</th>
            <th>Image</th>
            <th>Price</th>
            <th>Category</th>
            <th>Post Date</th>
            <th>Published</th>
          </tr>
        </thead>
        <tbody>
          {{#each items}}
          <tr>
            <td>{{id}}</td>
            <td>{{title}}</td>
            <td><img src="{{featureImage}}" alt="{{title}}" width="100"></td>
            <td>${{price}}</td>
            <td><a href="/items?category={{category}}">{{category}}</a></td>
            <td>{{postDate}}</td>
            <td>{{#if published}}Yes{{else}}No{{/if}}</td>
          </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
    {{else}}
    <div class="text-center mt-4">
      <strong>{{message}}</strong>
    </div>
    {{/if}}
  </div>
</div>
